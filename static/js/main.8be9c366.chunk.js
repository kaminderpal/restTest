(this.webpackJsonpresttest=this.webpackJsonpresttest||[]).push([[0],{11:function(t,e,n){t.exports={root:"Header_root__23iUa"}},12:function(t,e,n){t.exports={main:"Main_main__2m6w7"}},14:function(t,e,n){t.exports={container:"App_container__1MQN3"}},21:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(1),r=n.n(a),s=n(10),o=n.n(s),u=n(11),i=n.n(u),j=function(t){var e=t.title;return Object(c.jsx)("div",{className:i.a.root,children:e})},b=n(9),l=n(4),d=n(7),O=n.n(d),h=function(t){var e=t.date,n=t.company,a=t.amount,r=t.account;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:n}),Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:a})]})},f=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],p=function(t){var e=new Date(t);return"".concat(f[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},x=function(t){var e,n=t.transactions;return Object(c.jsxs)("table",{className:O.a.table,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Company"}),Object(c.jsx)("th",{children:"Account"}),Object(c.jsx)("th",{children:"$".concat((e=n,e.reduce((function(t,e){return t+Number(e.Amount)}),0).toFixed(2)))})]})}),Object(c.jsx)("tbody",{className:O.a.tbody,children:n.map((function(t,e){return Object(c.jsx)(h,{date:p(t.Date),amount:t.Amount,account:t.Ledger,company:t.Company},e)}))})]})},g=n(12),m=n.n(g),v=n(8),_=n.n(v),y=n(13),D=n(2),N=function(t){var e=Object(a.useRef)(!0),n=Object(a.useState)(t),c=Object(l.a)(n,2),r=c[0],s=c[1],o=Object(a.useCallback)((function(n){s(Object(D.a)(Object(D.a)({},t),{},{page:n})),e.current=!0}),[t]);return Object(a.useEffect)((function(){e.current&&(e.current=!1,function(){var t=Object(y.a)(_.a.mark((function t(){var e,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(Object(D.a)(Object(D.a)({},r),{},{isLoading:!0})),t.next=4,fetch("".concat("https://resttest.bench.co/transactions","/").concat(r.page,".json"));case 4:return e=t.sent,t.next=7,e.json();case 7:n=t.sent,s(Object(D.a)(Object(D.a)({},r),{},{result:n,isLoading:!1})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),s(Object(D.a)(Object(D.a)({},r),{},{result:null,isLoading:!1,error:t.t0}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}()())}),[e,r]),{data:r,getData:o}},M=function(){var t=Object(a.useState)([]),e=Object(l.a)(t,2),n=e[0],r=e[1],s=Object(a.useState)(0),o=Object(l.a)(s,2),u=o[0],i=o[1],j=N({result:null,isLoading:!1,error:!1,page:1}),d=j.data,O=j.getData;return Object(a.useEffect)((function(){d.result&&1===d.page&&i(Math.ceil(d.result.totalCount/d.result.transactions.length))}),[d.result,d.page]),Object(a.useEffect)((function(){d.result&&r((function(t){return[].concat(Object(b.a)(t),Object(b.a)(d.result.transactions))}))}),[d.result]),Object(a.useEffect)((function(){d.result&&d.page<u&&O(d.page+1)}),[d.result,u,d.page,O]),Object(c.jsxs)("div",{className:m.a.main,children:[d.isLoading&&"Transactions are loading...",d.error&&"Error Occurred while loading the transactions",n.length>0&&Object(c.jsx)(x,{transactions:n})]})},w=n(14),A=n.n(w),E=function(){return Object(c.jsxs)("div",{className:A.a.container,children:[Object(c.jsx)(j,{title:"Bench Test"}),Object(c.jsx)(M,{})]})};n(21);o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root"))},7:function(t,e,n){t.exports={table:"Datatable_table__1rnHz",tbody:"Datatable_tbody__3M1NI"}}},[[22,1,2]]]);
//# sourceMappingURL=main.8be9c366.chunk.js.map